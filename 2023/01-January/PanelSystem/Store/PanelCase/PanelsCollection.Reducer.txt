public partial class PanelsCollection
{
    private class Reducer
    {
        [ReducerMethod]
        public static PanelsCollection ReduceRegisterPanelAction(
            PanelsCollection previousPanelsCollection,
            ReduceRegisterPanelAction reduceRegisterPanelAction)
        {
            if (previousPanelsCollection.PanelModelsList.Any(
                    x => x.PanelModelKey == reduceRegisterPanelAction.PanelModel.PanelModelKey))
            {
                return previousPanelsCollection;
            }

            var nextPanelsList = previousPanelsCollection.PanelModelsList.Add(
                reduceRegisterPanelAction.PanelModel);

            return previousPanelsCollection with
            {
                PanelModelsList = nextPanelsList
            };
        }
        
        [ReducerMethod]
        public static PanelsCollection ReduceDisposePanelAction(
            PanelsCollection previousPanelsCollection,
            DisposePanelAction disposePanelAction)
        {
            var targetedPanel = previousPanelsCollection.PanelModelsList.FirstOrDefault(
                    x => x.PanelModelKey == reduceRegisterPanelAction.PanelModel.PanelModelKey);

            if (targetedPanel is null)
                return previousPanelsCollection;

            var nextPanelsList = previousPanelsCollection.PanelModelsList.Remove(
                targetedPanel);

            return previousPanelsCollection with
            {
                PanelModelsList = nextPanelsList
            };
        }
    }
}